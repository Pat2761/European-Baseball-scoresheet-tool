/**
 * European scorekeeper tool
 * Copyright (C) 2020  Patrick BRIAND
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 * 
 * generated by Xtext 2.23.0
 */
package org.bpy.score.club.formatting2;

import java.util.Arrays;
import java.util.List;
import java.util.function.Consumer;
import org.bpy.score.club.club.Club;
import org.bpy.score.club.club.ClubDescription;
import org.bpy.score.club.club.ClubPackage;
import org.bpy.score.club.club.Member;
import org.bpy.score.club.club.MemberStatus;
import org.bpy.score.club.club.Members;
import org.bpy.score.club.club.Official;
import org.bpy.score.club.club.Officials;
import org.bpy.score.club.club.Player;
import org.bpy.score.club.club.Team;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.xtext.formatting2.AbstractFormatter2;
import org.eclipse.xtext.formatting2.IFormattableDocument;
import org.eclipse.xtext.formatting2.IHiddenRegionFormatter;
import org.eclipse.xtext.formatting2.regionaccess.ISemanticRegion;
import org.eclipse.xtext.resource.XtextResource;
import org.eclipse.xtext.xbase.lib.Conversions;
import org.eclipse.xtext.xbase.lib.Extension;
import org.eclipse.xtext.xbase.lib.Procedures.Procedure1;

/**
 * Allow to format a club file
 * 
 * @author: Patrick BRIAND
 */
@SuppressWarnings("all")
public class ClubFormatter extends AbstractFormatter2 {
  /**
   * Format the entry point of the club file.
   */
  protected void _format(final Club club, @Extension final IFormattableDocument document) {
    final Procedure1<IHiddenRegionFormatter> _function = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.oneSpace();
      }
    };
    document.prepend(this.textRegionExtensions.regionFor(club).feature(ClubPackage.Literals.CLUB__NAME), _function);
    final Procedure1<IHiddenRegionFormatter> _function_1 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.oneSpace();
      }
    };
    document.append(this.textRegionExtensions.regionFor(club).feature(ClubPackage.Literals.CLUB__NAME), _function_1);
    final Procedure1<IHiddenRegionFormatter> _function_2 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.newLine();
        it.indent();
      }
    };
    document.append(this.textRegionExtensions.regionFor(club).keyword("{"), _function_2);
    final ISemanticRegion open = this.textRegionExtensions.regionFor(club).keyword("{");
    final ISemanticRegion close = this.textRegionExtensions.regionFor(club).keyword("}");
    if (((open != null) && (close != null))) {
      final Procedure1<IHiddenRegionFormatter> _function_3 = new Procedure1<IHiddenRegionFormatter>() {
        @Override
        public void apply(final IHiddenRegionFormatter it) {
          it.indent();
        }
      };
      document.<ISemanticRegion, ISemanticRegion>interior(open, close, _function_3);
      document.<ClubDescription>format(club.getClubDescription());
    }
  }

  /**
   * Format the description of the of the club
   */
  protected void _format(final ClubDescription clubDescription, @Extension final IFormattableDocument document) {
    final Procedure1<IHiddenRegionFormatter> _function = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_1 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(clubDescription).keyword("="), _function), _function_1);
    final Procedure1<IHiddenRegionFormatter> _function_2 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_3 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.setNewLines(2);
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(clubDescription).keyword(";"), _function_2), _function_3);
    document.<Members>format(clubDescription.getMembers());
    final Consumer<Team> _function_4 = new Consumer<Team>() {
      @Override
      public void accept(final Team it) {
        document.<Team>format(it);
      }
    };
    clubDescription.getTeams().forEach(_function_4);
    document.<Officials>format(clubDescription.getOfficials());
  }

  /**
   * Format the description of the members bloc
   */
  protected void _format(final Members members, @Extension final IFormattableDocument document) {
    final ISemanticRegion open = this.textRegionExtensions.regionFor(members).keyword("{");
    final Procedure1<IHiddenRegionFormatter> _function = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.newLine();
      }
    };
    document.append(open, _function);
    final ISemanticRegion close = this.textRegionExtensions.regionFor(members).keyword("}");
    if (((open != null) && (close != null))) {
      final Procedure1<IHiddenRegionFormatter> _function_1 = new Procedure1<IHiddenRegionFormatter>() {
        @Override
        public void apply(final IHiddenRegionFormatter it) {
          it.indent();
        }
      };
      document.<ISemanticRegion, ISemanticRegion>interior(open, close, _function_1);
      final Consumer<Member> _function_2 = new Consumer<Member>() {
        @Override
        public void accept(final Member it) {
          document.<Member>format(it);
        }
      };
      members.getMembers().forEach(_function_2);
    }
    final Procedure1<IHiddenRegionFormatter> _function_3 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.setNewLines(2);
      }
    };
    document.append(close, _function_3);
  }

  /**
   * Format the description of a member
   */
  protected void _format(final Member member, @Extension final IFormattableDocument document) {
    final Procedure1<IHiddenRegionFormatter> _function = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.indent();
        it.indent();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_1 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.oneSpace();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(member).keyword("member"), _function), _function_1);
    final Procedure1<IHiddenRegionFormatter> _function_2 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    document.append(this.textRegionExtensions.regionFor(member).keyword("name"), _function_2);
    final Procedure1<IHiddenRegionFormatter> _function_3 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_4 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.oneSpace();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(member).feature(ClubPackage.Literals.MEMBER__NAME), _function_3), _function_4);
    final Procedure1<IHiddenRegionFormatter> _function_5 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.oneSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_6 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(member).keyword("shortName"), _function_5), _function_6);
    final Procedure1<IHiddenRegionFormatter> _function_7 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    document.prepend(this.textRegionExtensions.regionFor(member).feature(ClubPackage.Literals.MEMBER__SHORT_NAME), _function_7);
    final Procedure1<IHiddenRegionFormatter> _function_8 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.oneSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_9 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_10 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noAutowrap();
      }
    };
    document.append(document.append(document.prepend(this.textRegionExtensions.regionFor(member).keyword("licenceNumber"), _function_8), _function_9), _function_10);
    final Procedure1<IHiddenRegionFormatter> _function_11 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    document.prepend(this.textRegionExtensions.regionFor(member).feature(ClubPackage.Literals.MEMBER__LICENCE_NUMBER), _function_11);
    final Procedure1<IHiddenRegionFormatter> _function_12 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.oneSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_13 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(member).keyword("shirtNumber"), _function_12), _function_13);
    final Procedure1<IHiddenRegionFormatter> _function_14 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    document.prepend(this.textRegionExtensions.regionFor(member).feature(ClubPackage.Literals.MEMBER__SHIRT_NUMBER), _function_14);
    final Procedure1<IHiddenRegionFormatter> _function_15 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.oneSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_16 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(member).keyword("status"), _function_15), _function_16);
    document.<MemberStatus>format(member.getStatus());
    final Procedure1<IHiddenRegionFormatter> _function_17 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_18 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.newLine();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(member).keyword(";"), _function_17), _function_18);
  }

  /**
   * Format the status of a member
   * Remove spaces between each attribute
   * remove space at the beginning of the state and at the end of the state
   */
  protected void _format(final MemberStatus status, @Extension final IFormattableDocument document) {
    final List<ISemanticRegion> regions = this.textRegionExtensions.regionFor(status).keywords(",");
    int _length = ((Object[])Conversions.unwrapArray(regions, Object.class)).length;
    boolean _greaterThan = (_length > 0);
    if (_greaterThan) {
      List<ISemanticRegion> _keywords = this.textRegionExtensions.regionFor(status).keywords(",");
      for (final ISemanticRegion comma : _keywords) {
        final Procedure1<IHiddenRegionFormatter> _function = new Procedure1<IHiddenRegionFormatter>() {
          @Override
          public void apply(final IHiddenRegionFormatter it) {
            it.noSpace();
          }
        };
        final Procedure1<IHiddenRegionFormatter> _function_1 = new Procedure1<IHiddenRegionFormatter>() {
          @Override
          public void apply(final IHiddenRegionFormatter it) {
            it.noSpace();
          }
        };
        document.append(document.prepend(comma, _function), _function_1);
      }
    } else {
      final Procedure1<IHiddenRegionFormatter> _function_2 = new Procedure1<IHiddenRegionFormatter>() {
        @Override
        public void apply(final IHiddenRegionFormatter it) {
          it.noSpace();
        }
      };
      final Procedure1<IHiddenRegionFormatter> _function_3 = new Procedure1<IHiddenRegionFormatter>() {
        @Override
        public void apply(final IHiddenRegionFormatter it) {
          it.noSpace();
        }
      };
      document.<MemberStatus>append(document.<MemberStatus>prepend(status, _function_2), _function_3);
    }
  }

  /**
   * Format a team an invoke the the format of the each player in a team
   */
  protected void _format(final Team team, @Extension final IFormattableDocument document) {
    final Procedure1<IHiddenRegionFormatter> _function = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.oneSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_1 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.oneSpace();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(team).feature(ClubPackage.Literals.TEAM__NAME), _function), _function_1);
    final Procedure1<IHiddenRegionFormatter> _function_2 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.newLine();
      }
    };
    document.append(this.textRegionExtensions.regionFor(team).keyword("{"), _function_2);
    final ISemanticRegion open = this.textRegionExtensions.regionFor(team).keyword("{");
    final Procedure1<IHiddenRegionFormatter> _function_3 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.newLine();
      }
    };
    document.append(open, _function_3);
    final ISemanticRegion close = this.textRegionExtensions.regionFor(team).keyword("}");
    if (((open != null) && (close != null))) {
      final Procedure1<IHiddenRegionFormatter> _function_4 = new Procedure1<IHiddenRegionFormatter>() {
        @Override
        public void apply(final IHiddenRegionFormatter it) {
          it.indent();
        }
      };
      document.<ISemanticRegion, ISemanticRegion>interior(open, close, _function_4);
      final Consumer<Player> _function_5 = new Consumer<Player>() {
        @Override
        public void accept(final Player it) {
          document.<Player>format(it);
        }
      };
      team.getPlayers().forEach(_function_5);
    }
    final Procedure1<IHiddenRegionFormatter> _function_6 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.setNewLines(2);
      }
    };
    document.append(close, _function_6);
  }

  /**
   * Format a player in a team
   */
  protected void _format(final Player player, @Extension final IFormattableDocument document) {
    final Procedure1<IHiddenRegionFormatter> _function = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_1 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(player).keyword("="), _function), _function_1);
    final Procedure1<IHiddenRegionFormatter> _function_2 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_3 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.newLine();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(player).keyword(";"), _function_2), _function_3);
  }

  /**
   * Format the officials blocs and invoke the the format of the each official
   */
  protected void _format(final Officials officials, @Extension final IFormattableDocument document) {
    final Procedure1<IHiddenRegionFormatter> _function = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.oneSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_1 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.newLine();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(officials).keyword("{"), _function), _function_1);
    final ISemanticRegion open = this.textRegionExtensions.regionFor(officials).keyword("{");
    final Procedure1<IHiddenRegionFormatter> _function_2 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.newLine();
      }
    };
    document.append(open, _function_2);
    final ISemanticRegion close = this.textRegionExtensions.regionFor(officials).keyword("}");
    if (((open != null) && (close != null))) {
      final Procedure1<IHiddenRegionFormatter> _function_3 = new Procedure1<IHiddenRegionFormatter>() {
        @Override
        public void apply(final IHiddenRegionFormatter it) {
          it.indent();
        }
      };
      document.<ISemanticRegion, ISemanticRegion>interior(open, close, _function_3);
      final Consumer<Official> _function_4 = new Consumer<Official>() {
        @Override
        public void accept(final Official it) {
          document.<Official>format(it);
        }
      };
      officials.getOfficials().forEach(_function_4);
    }
  }

  protected void _format(final Official official, @Extension final IFormattableDocument document) {
    final Procedure1<IHiddenRegionFormatter> _function = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.oneSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_1 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(official).keyword("name"), _function), _function_1);
    final Procedure1<IHiddenRegionFormatter> _function_2 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    document.append(this.textRegionExtensions.regionFor(official).keyword("="), _function_2);
    final Procedure1<IHiddenRegionFormatter> _function_3 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.noSpace();
      }
    };
    final Procedure1<IHiddenRegionFormatter> _function_4 = new Procedure1<IHiddenRegionFormatter>() {
      @Override
      public void apply(final IHiddenRegionFormatter it) {
        it.newLine();
      }
    };
    document.append(document.prepend(this.textRegionExtensions.regionFor(official).keyword(";"), _function_3), _function_4);
  }

  public void format(final Object club, final IFormattableDocument document) {
    if (club instanceof XtextResource) {
      _format((XtextResource)club, document);
      return;
    } else if (club instanceof Club) {
      _format((Club)club, document);
      return;
    } else if (club instanceof ClubDescription) {
      _format((ClubDescription)club, document);
      return;
    } else if (club instanceof Member) {
      _format((Member)club, document);
      return;
    } else if (club instanceof MemberStatus) {
      _format((MemberStatus)club, document);
      return;
    } else if (club instanceof Members) {
      _format((Members)club, document);
      return;
    } else if (club instanceof Official) {
      _format((Official)club, document);
      return;
    } else if (club instanceof Officials) {
      _format((Officials)club, document);
      return;
    } else if (club instanceof Player) {
      _format((Player)club, document);
      return;
    } else if (club instanceof Team) {
      _format((Team)club, document);
      return;
    } else if (club instanceof EObject) {
      _format((EObject)club, document);
      return;
    } else if (club == null) {
      _format((Void)null, document);
      return;
    } else if (club != null) {
      _format(club, document);
      return;
    } else {
      throw new IllegalArgumentException("Unhandled parameter types: " +
        Arrays.<Object>asList(club, document).toString());
    }
  }
}
