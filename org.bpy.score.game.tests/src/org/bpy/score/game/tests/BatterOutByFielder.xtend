/*
 * European Scoring Tool For Baseball
 * Copyright (C) 2020  Patrick BRIAND
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * generated by Xtext 2.23.0
 */
package org.bpy.score.game.tests


import org.eclipse.xtext.testing.InjectWith
import com.google.inject.Inject
import org.bpy.score.game.game.Game
import org.bpy.score.game.game.GamePackage
import org.bpy.score.game.game.BatterOutByRule
import org.bpy.score.game.game.Action
import org.bpy.score.game.game.BatterOutOnFlyed
import org.bpy.score.game.game.BatterOutOnLine
import org.bpy.score.game.game.BatterOutOnPopped
import org.bpy.score.game.game.BatterOutOnFlyedFallBall
import org.bpy.score.game.game.BatterOutOnPoppedFallBall
import org.bpy.score.game.game.BatterOutOnGroundedBall
import org.bpy.score.game.game.BatterOutOnAppeal
import org.bpy.score.game.game.BatterOutOnGroundedDoublePlay
import org.bpy.score.game.game.BatterOutOnSacrificeFly
import org.bpy.score.game.game.BatterOutOnSacrificeHit
import org.bpy.score.game.game.BatterOutOnInfieldFly
import org.eclipse.xtext.testing.util.ParseHelper
import org.eclipse.xtext.testing.validation.ValidationTestHelper
import org.bpy.score.game.validation.BatterOutValidator
import org.junit.Test
import org.junit.Assert
import org.junit.runner.RunWith
import org.eclipse.xtext.testing.XtextRunner

@RunWith(XtextRunner)
@InjectWith(GameInjectorProvider)

class BatterOutByFielder {

	@Inject extension ParseHelper<Game>
	@Inject extension ValidationTestHelper

	@Test
	def checkBatterOutByACaughtFly() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> F8 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutOnFlyed) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");

	}

	@Test
	def checkBatterOutByACaughtFlyError01() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> F1 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* Detected suspicious defensive position */
        parseResult.assertWarning(
        	GamePackage.eINSTANCE.batterOutOnFlyed,
        	BatterOutValidator::SUSPICIOUS_DEFENSIVE_POSITION,
        	"'1' is a suspicious defender for an out for a fly catch, perhaps may be a popped out"
        )
	}

	@Test
	def checkBatterOutByACaughtFlyError02() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> F2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* Detected suspicious defensive position */
        parseResult.assertWarning(
        	GamePackage.eINSTANCE.batterOutOnFlyed,
        	BatterOutValidator::SUSPICIOUS_DEFENSIVE_POSITION,
        	"'2' is a suspicious defender for an out for a fly catch, perhaps may be a popped out"
        )
	}

	@Test
	def checkBatterOutByACaughtFlyError03() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> F78 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        parseResult.assertNoErrors
	}

	@Test
	def checkBatterOutByACaughtFlyError04() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> F08 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnFlyed,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}

	@Test
	def checkBatterOutByACaughtFlyError05() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> F88 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnFlyed,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Last assist defender number '8', can't make the out"
        )
	}

	@Test
	def checkBatterOutByACaughtFlyError06() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> F0 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnFlyed,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}

	@Test
	def checkBatterOutByLineDrive() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> L6 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutOnLine) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");

	}

	@Test
	def checkBatterOutByALIneError03() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> L78 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        parseResult.assertNoErrors
	}

	@Test
	def checkBatterOutByALineOutError04() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> L08 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnLine,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}

	@Test
	def checkBatterOutByALineOutError05() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> L88 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnLine,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Last assist defender number '8', can't make the out"
        )
	}

	@Test
	def checkBatterOutByALineOutError06() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> L0 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnLine,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}

	@Test
	def checkBatterOutByPoppedDrive() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> P4 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutOnPopped) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByAPoppedError03() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> P34 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        parseResult.assertNoErrors
	}

	@Test
	def checkBatterOutByAPoppedOutError04() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> P02 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnPopped,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}

	@Test
	def checkBatterOutByAPoppedOutError05() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> P22 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnPopped,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Last assist defender number '2', can't make the out"
        )
	}

	@Test
	def checkBatterOutByAPoppedOutError06() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> P0 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnPopped,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}

	@Test
	def checkBatterOutByFlyedFallBallOut() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FF9 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutOnFlyedFallBall) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByACaughtFlyedFallBallOut01() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FF1 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* Detected suspicious defensive position */
        parseResult.assertWarning(
        	GamePackage.eINSTANCE.batterOutOnFlyedFallBall,
        	BatterOutValidator::SUSPICIOUS_DEFENSIVE_POSITION,
        	"'1' is a suspicious defender for an out for a fly catch, perhaps may be a popped out"
        )
	}

	@Test
	def checkBatterOutByACaughtFlyedFallBallOut02() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FF2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* Detected suspicious defensive position */
        parseResult.assertWarning(
        	GamePackage.eINSTANCE.batterOutOnFlyedFallBall,
        	BatterOutValidator::SUSPICIOUS_DEFENSIVE_POSITION,
        	"'2' is a suspicious defender for an out for a fly catch, perhaps may be a popped out"
        )
	}

	@Test
	def checkBatterOutByACaughtFlyedFallBallOut03() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FF78 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        parseResult.assertNoErrors
	}

	@Test
	def checkBatterOutByACaughvFlyedFallBallOut04() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FF0 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnFlyedFallBall,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}

	@Test
	def checkBatterOutByACaughtFlyedFallBallOut05() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FF88 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnFlyedFallBall,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Last assist defender number '8', can't make the out"
        )
	}

	@Test
	def checkBatterOutByACaughtFlyedFallBallOut06() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FF0 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnFlyedFallBall,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}

	@Test
	def checkBatterOutByPoppedFallBallOut() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FP3 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutOnPoppedFallBall) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByAPoppedFallBallOutError03() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FP34 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        parseResult.assertNoErrors
	}

	@Test
	def checkBatterOutByAPoppedFallBallOutError04() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FP02 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnPoppedFallBall,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}

	@Test
	def checkBatterOutByAPoppedFallBallOutError05() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FP22 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnPoppedFallBall,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Last assist defender number '2', can't make the out"
        )
	}

	@Test
	def checkBatterOutByAPoppedFallBallOutError06() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FP0 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnPoppedFallBall,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}


	@Test
	def checkBatterOutByGrounedOut01() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 143 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutOnGroundedBall) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByGrounedOut02() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 3 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutOnGroundedBall) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByGroundedOutError04() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 102 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnGroundedBall,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}

	@Test
	def checkBatterOutByGroundedOutError05() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 22 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnGroundedBall,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Last assist defender number '2', can't make the out"
        )
	}

	@Test
	def checkBatterOutByGroundedOutError06() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 0 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* No error in assistance */
        /* Detected suspicious defensive position */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnGroundedBall,
        	BatterOutValidator::INVALID_DEFENDER_NUMMBER,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}

	@Test
	def checkBatterOutByOutByRuleOut1() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR1-6 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutByRule) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByOutByRuleOut2() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action {batter -> OBRKS-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutByRule) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByOutByRuleOut3() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR3-4 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutByRule) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByOutByRuleOut4() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR4-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutByRule) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByOutByRuleOut5() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR5-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutByRule) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByOutByRuleOut6() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR6-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutByRule) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByOutByRuleOut7() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR7-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

		/* Not a valid OBR for a batter */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutByRule,
        	BatterOutValidator::INVALID_BATTER_OBR_CAUSE,
        	"OBR Type '7' isn't valid for a batter"
        )
	}

	@Test
	def checkBatterOutByOutByRuleOut8() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR8-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutByRule) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByOutByRuleOut9() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR9-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

		/* Not a valid OBR for a batter */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutByRule,
        	BatterOutValidator::INVALID_BATTER_OBR_CAUSE,
        	"OBR Type '9' isn't valid for a batter"
        )
	}

	@Test
	def checkBatterOutByOutByRuleOut10() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR10-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

		/* Not a valid OBR for a batter */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutByRule,
        	BatterOutValidator::INVALID_BATTER_OBR_CAUSE,
        	"OBR Type '10' isn't valid for a batter"
        )
	}

	@Test
	def checkBatterOutByOutByRuleOut11() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR11-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

		/* Not a valid OBR for a batter */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutByRule,
        	BatterOutValidator::INVALID_BATTER_OBR_CAUSE,
        	"OBR Type '11' isn't valid for a batter"
        )
	}

	@Test
	def checkBatterOutByOutByRuleOut12() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR12-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

		/* Not a valid OBR for a batter */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutByRule,
        	BatterOutValidator::INVALID_BATTER_OBR_CAUSE,
        	"OBR Type '12' isn't valid for a batter"
        )
	}

	@Test
	def checkBatterOutByOutByRuleOut13() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR13-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

		/* Not a valid OBR for a batter */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutByRule,
        	BatterOutValidator::INVALID_BATTER_OBR_CAUSE,
        	"OBR Type '13' isn't valid for a batter"
        )
	}

	@Test
	def checkBatterOutByOutByRuleOut14() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR14-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutByRule) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByOutByRuleOut15() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { runner1 -> OBR15-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

		/* Not a valid OBR for a runner */
        parseResult.assertError(
        	GamePackage.eINSTANCE.runnerOutByRules,
        	BatterOutValidator::INVALID_RUNNER_OBR_CAUSE,
        	"Bad cause OBR 'OBR15-2' for the baseball"
        )
	}

	@Test
	def checkBatterOutByOutByRuleOut16() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR16-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

		/* Not a valid OBR for a batter */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutByRule,
        	BatterOutValidator::INVALID_BATTER_OBR_CAUSE,
        	"Bad cause OBR 'OBR16-2' for the baseball"
        )
	}

	@Test
	def checkBatterOutByOutByRuleErrorCause0() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> OBR0-2 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutByRule,
        	BatterOutValidator::INVALID_BATTER_OBR_CAUSE,
        	"OBR Type '0' isn't valid for a batter"
        )
	}


	@Test
	def checkBatterOutByOutAppealOut() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> A1 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutOnAppeal) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByGrounedDoubleOut() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> GDP63 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutOnGroundedDoublePlay) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutBySacrificeFlyOut() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> SF8 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutOnSacrificeFly) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutBySacrificeHitOut() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> SH13 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutOnSacrificeHit) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByInfieldFlyOut() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> IF3 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterOutOnInfieldFly) {
        	checkResult = true;
        }
        Assert.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkBatterOutByInfieldFlyOutError01() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> IF23 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnInfieldFly,
        	BatterOutValidator::INVALID_DEFENSIVE_POSITION,
        	'Infield fly shall contains only one digit for the defensive position'
        )
	}

	@Test
	def checkBatterOutByInfieldFlyOutError02() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> IF0 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertError(
        	GamePackage.eINSTANCE.batterOutOnInfieldFly,
        	BatterOutValidator::INVALID_DEFENSIVE_POSITION,
        	"Bad defender number '0', value must be set between 1 to 9"
        )
	}

	@Test
	def checkBatterOutByInfieldFlyOutError03() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> IF7 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertWarning(
        	GamePackage.eINSTANCE.batterOutOnInfieldFly,
        	BatterOutValidator::SUSPICIOUS_DEFENSIVE_POSITION,
        	"Infield fly in outfield may be suspicious"
        )
	}

	@Test
	def checkBatterOutByInfieldFlyOutError04() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> IF9 } ')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertWarning(
        	GamePackage.eINSTANCE.batterOutOnInfieldFly,
        	BatterOutValidator::SUSPICIOUS_DEFENSIVE_POSITION,
        	"Infield fly in outfield may be suspicious"
        )
	}
}