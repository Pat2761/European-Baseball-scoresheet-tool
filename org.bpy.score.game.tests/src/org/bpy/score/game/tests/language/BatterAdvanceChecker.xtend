/*
 * European Scoring Tool For Baseball
 * Copyright (C) 2020  Patrick BRIAND
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * generated by Xtext 2.23.0
 */
package org.bpy.score.game.tests.language


//import org.bpy.score.game.GameInjectorProvider
import com.google.inject.Inject
import org.bpy.score.game.game.Game
import org.bpy.score.game.game.BatterAdvanceOnReceiveError
import org.bpy.score.game.game.BatterAdvanceOnThrowError
import org.bpy.score.game.game.BatterAdvanceOnFlyError
import org.bpy.score.game.game.BatterAdvanceOnOccupedBall
import org.bpy.score.game.game.BatterAdvanceOnDefensiveChoice
import org.bpy.score.game.game.Action

import static extension org.bpy.score.game.util.ScoreGameAdvanceUtil.*
import org.bpy.score.game.game.BatterAdvanceOnSingleHit
import org.bpy.score.game.game.BatterAdvanceOnDoubleHit
import org.bpy.score.game.game.BatterAdvanceOnTripleHit
import org.bpy.score.game.game.BatterAdvanceOnHomeRun
import org.bpy.score.game.game.BatterAdvanceOnInsidePark
import org.bpy.score.game.game.BatterAdvanceOnBaseOnBall
import org.bpy.score.game.game.BatterAdvanceOnIntentionalBaseOnBall
import org.bpy.score.game.game.BatterAdvanceOnHitByPitch
import org.bpy.score.game.game.BatterAdvanceOnCatcherInterference
import org.bpy.score.game.game.BatterAdvanceOnKPassBall
import org.bpy.score.game.game.BatterAdvanceOnKWildPitch
import org.bpy.score.game.game.BatterAdvanceOnKWithError
import org.bpy.score.game.game.BatterAdvanceOnSacrificeFlyWithError
import org.bpy.score.game.game.BatterAdvanceOnSacrificeHitWithError
import org.eclipse.xtext.testing.InjectWith
import org.eclipse.xtext.testing.util.ParseHelper
import org.eclipse.xtext.testing.validation.ValidationTestHelper
import org.junit.jupiter.api.^extension.ExtendWith
import org.eclipse.xtext.testing.extensions.InjectionExtension
import org.junit.jupiter.api.Test
import org.junit.jupiter.api.Assertions
import org.bpy.score.game.tests.GameInjectorProvider

@ExtendWith(InjectionExtension)
@InjectWith(GameInjectorProvider)

class BatterAdvanceChecker {

	@Inject extension ParseHelper<Game>
	@Inject extension ValidationTestHelper

	@Test
	def checkAdvanceOnSimple() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 1B7}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnSingleHit) {

        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnDouble() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 2B8}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnDoubleHit) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,2)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnTriple() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 3B9}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnTripleHit) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,3)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnSimpleBunt() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 1B7b}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnSingleHit) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnDoubleBunt() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 2B8b}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnDoubleHit) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,2)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnTripleBunt() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 3B9b}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnTripleHit) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,3)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnHomerun() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> HR9}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnHomeRun) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,4)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnInsidePark() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> IHR9}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnInsidePark) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,4)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnBaseOnBall() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> BB}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnBaseOnBall) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnIntentionalBaseOnBall() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> IBB}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnIntentionalBaseOnBall) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnHitByPitch() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> HP}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnHitByPitch) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnCatcherInterference() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> CI}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnCatcherInterference) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnKPassBall() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> KSPB}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnKPassBall) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnKWildPitch() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> KSWP}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnKWildPitch) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError01() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> KS2E3}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnKWithError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError11() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> KS2E3+}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnKWithError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(2,advanceValue)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError02() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> KSE2T}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnKWithError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError12() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> KSE2T+}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnKWithError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(2,advanceValue)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError03() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 6E3}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnReceiveError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError13() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> 6E3+}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnReceiveError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,2)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError04() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> E6T}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnThrowError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError14() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> E6T++}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnThrowError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,3)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError05() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> E8F}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnFlyError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError15() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> E8F+}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnFlyError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,2)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError06() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> SFE8}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnSacrificeFlyWithError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError16() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> SFE8+++ }')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnSacrificeFlyWithError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(4,advanceValue)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError07() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> SH5E3}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnSacrificeHitWithError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError17() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> SH5E3+}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnSacrificeHitWithError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,2)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError08() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> SHE5T}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnSacrificeHitWithError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def checkAdvanceOnError18() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> SHE5T++}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnSacrificeHitWithError) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,3)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def advanceOnDefensiveChoice01() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> O5}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnOccupedBall) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}

	@Test
	def advanceOnDefensiveChoice02() {
		val str = new StringBuilder(CommonResources::BASEBALL_STARTING_GAME);
      	str.append('action { batter -> FC54}')
      	str.append(CommonResources::ENDING_GAME);
        val parseResult = str.parse

        /* no errors during parsing */
        parseResult.assertNoErrors

		/* check type of strikeout */
        val element = (parseResult.actions.halfInnings.get(0).inningElements.get(0) as Action).batterAction
        var checkResult = false;

        if (element instanceof BatterAdvanceOnDefensiveChoice) {
        	val advanceValue = element.baseWin
        	Assertions.assertEquals(advanceValue,1)

        	checkResult = true;
        }
        Assertions.assertEquals(""+checkResult,"true");
	}
}
